{% extends "base.html" %}
{% block title %}Payment Successful{% endblock %}
{% block content %}

<div class="max-w-2xl mx-auto mt-8">

  <!-- Success Header -->
  <div class="text-center mb-8">
    <div class="text-8xl mb-4">ğŸ‰</div>
    <h2 class="text-4xl font-bold text-green-600 mb-2">Payment Successful!</h2>
    <p class="text-gray-500">Your parking slot has been confirmed</p>
  </div>

  <!-- Transaction ID Box â€” Most Important -->
  <div class="bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl p-6 mb-6 text-center shadow-lg">
    <p class="text-sm font-semibold opacity-80 mb-1">Your Transaction ID</p>
    <p class="text-3xl font-extrabold tracking-widest">{{ payment.transaction_id }}</p>
    <p class="text-sm opacity-70 mt-2">âš ï¸ Save this ID as proof of payment</p>
  </div>

  <!-- Full Booking Details -->
  <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-6">
    <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-4">
      <h3 class="text-lg font-bold">ğŸ“‹ Booking Details</h3>
    </div>

    <div class="p-6 space-y-4">

      <!-- Location -->
      <div class="flex justify-between items-start border-b border-gray-100 pb-4">
        <div>
          <p class="text-xs text-gray-400 uppercase font-semibold">ğŸ“ Location</p>
          <p class="font-bold text-gray-800 mt-1">
            {{ payment.reservation.slot.lot.name }}
          </p>
          <p class="text-gray-500 text-sm">
            {{ payment.reservation.slot.lot.address }},
            {{ payment.reservation.slot.lot.city }}
          </p>
        </div>
        <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold">
          Slot {{ payment.reservation.slot.slot_number }}
        </span>
      </div>

      <!-- Time -->
      <div class="flex justify-between border-b border-gray-100 pb-4">
        <div>
          <p class="text-xs text-gray-400 uppercase font-semibold">ğŸ• Check In</p>
          <p class="font-bold text-gray-800 mt-1">
            {{ payment.reservation.start_time|date:"M d, Y" }}
          </p>
          <p class="text-gray-500 text-sm">
            {{ payment.reservation.start_time|date:"H:i" }}
          </p>
        </div>
        <div class="text-center text-gray-300 text-2xl">â†’</div>
        <div class="text-right">
          <p class="text-xs text-gray-400 uppercase font-semibold">ğŸ• Check Out</p>
          <p class="font-bold text-gray-800 mt-1">
            {{ payment.reservation.end_time|date:"M d, Y" }}
          </p>
          <p class="text-gray-500 text-sm">
            {{ payment.reservation.end_time|date:"H:i" }}
          </p>
        </div>
      </div>

      <!-- Vehicle -->
      {% if payment.reservation.vehicle %}
      <div class="flex justify-between border-b border-gray-100 pb-4">
        <p class="text-xs text-gray-400 uppercase font-semibold">ğŸš— Vehicle</p>
        <div class="text-right">
          <p class="font-bold text-gray-800">
            {{ payment.reservation.vehicle.plate_number }}
          </p>
          <p class="text-gray-500 text-sm">
            {{ payment.reservation.vehicle.vehicle_type }}
          </p>
        </div>
      </div>
      {% endif %}

      <!-- Payment Info -->
      <div class="flex justify-between border-b border-gray-100 pb-4">
        <p class="text-xs text-gray-400 uppercase font-semibold">ğŸ’³ Paid At</p>
        <p class="font-bold text-gray-800">
          {{ payment.paid_at|date:"M d, Y H:i" }}
        </p>
      </div>

      <!-- Amount -->
      <div class="flex justify-between items-center">
        <p class="text-xs text-gray-400 uppercase font-semibold">ğŸ’° Amount Paid</p>
        <p class="text-3xl font-extrabold text-green-600">
          â‚¹{{ payment.amount }}
        </p>
      </div>

    </div>
  </div>

  <!-- Important Note -->
  <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6 text-sm text-yellow-800">
    <p class="font-bold mb-1">âš ï¸ Important:</p>
    <p>Please save your Transaction ID <strong>{{ payment.transaction_id }}</strong> as proof of payment. Show it to the parking attendant when you arrive.</p>
  </div>

  <!-- Action Buttons -->
  <div class="flex gap-4">
    <a href="{% url 'customer_dashboard' %}"
       class="flex-1 text-center bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-xl font-bold hover:shadow-lg transition">
      ğŸ“‹ View My Bookings
    </a>
    <a href="{% url 'parking_list' %}"
       class="flex-1 text-center bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition">
      ğŸ” Book Another Slot
    </a>
  </div>

</div>
{% endblock %}